CREATE DATABASE CS8120;

USE `CS8120`;

CREATE TABLE `USER` (
	`ID` INT NOT NULL AUTO_INCREMENT,
	`NAME` VARCHAR(32) NOT NULL,
	`SALT` INT NOT NULL,
	`PASSWORD` CHAR(224) NOT NULL,
	`PRIVILEGE` INT NOT NULL DEFAULT 0,
	PRIMARY KEY (`ID`)
);

CREATE TABLE `FILE` (
	`ID` INT NOT NULL AUTO_INCREMENT,
	`USER_ID` INT NOT NULL,
	`NAME` VARCHAR(32) NOT NULL,
	`CONTENT` TEXT,
	PRIMARY KEY (`ID`),
	FOREIGN KEY (`USER_ID`) REFERENCES `USER` (`ID`) ON DELETE CASCADE
);

INSERT INTO `USER` (`NAME`, `SALT`, `PASSWORD`, `PRIVILEGE`) VALUES ('admin', 0, 'admin', 1);
INSERT INTO `FILE` (`USER_ID`, `NAME`, `CONTENT`) VALUES (1, 'TEST', '???p?M?W??I???5?v??#???/???_??');